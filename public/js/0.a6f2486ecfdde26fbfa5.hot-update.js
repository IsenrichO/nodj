webpackHotUpdate(0,{

/***/ 373:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(3), RootInstanceProvider = __webpack_require__(11), ReactMount = __webpack_require__(13), React = __webpack_require__(82); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(82);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactGoogleMaps = __webpack_require__(374);\n\nvar _InfoBox = __webpack_require__(419);\n\nvar _InfoBox2 = _interopRequireDefault(_InfoBox);\n\nvar _reactModal = __webpack_require__(423);\n\nvar _reactModal2 = _interopRequireDefault(_reactModal);\n\nvar _redux = __webpack_require__(187);\n\nvar _reactRedux = __webpack_require__(201);\n\nvar _google_maps_modal_component = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"./google_maps_modal_component\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nvar _google_maps_modal_component2 = _interopRequireDefault(_google_maps_modal_component);\n\nvar _google_map_styles = __webpack_require__(444);\n\nvar _google_map_styles2 = _interopRequireDefault(_google_map_styles);\n\nvar _index = __webpack_require__(284);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar geolocation = function () {\n  // canUseDOM && navigator.geolocation || {\n  //   getCurrentPosition: (success, failure) => {\n  //     failure(`Your browser doesn't support geolocation.`);\n  //   },\n  // }\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      var pos = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n\n      // console.log(`Location found: ${pos.lat} ${pos.lng}`);\n      // console.log(`Google Maps LatLng: ${new google.maps.LatLng(pos.lat, pos.lng)}`);\n      return new google.maps.LatLng(pos.lat, pos.lng);\n    });\n\n    // console.log(`Your browser doesn't support geolocation.`);\n    return new google.maps.LatLng(37.745951, -122.439421);\n  }\n}();\n\nvar GMap = function (_Component) {\n  _inherits(GMap, _Component);\n\n  function GMap(props) {\n    _classCallCheck(this, GMap);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GMap).call(this, props));\n\n    _this.state = {\n      defaultCenter: new google.maps.LatLng(37.745951, -122.439421),\n      geoPos: null,\n      zoomLevel: 10\n    };\n    _this.modalNo = _this.modalNo.bind(_this);\n    return _this;\n  }\n\n  _createClass(GMap, [{\n    key: 'centerMap',\n    value: function centerMap() {\n      // console.log(`First map marker coordinates: ${this.props.markers[0].coords}`);\n      return this.props.markers.length ? this.props.markers[0].coords : this.state.defaultCenter;\n    }\n  }, {\n    key: 'centerZoomOverUSA',\n    value: function centerZoomOverUSA() {\n      this.setState({ zoomLevel: 5 });\n    }\n\n    // Toggle to 'true' to show InfoWindow and re-renders component\n\n  }, {\n    key: 'handleMarkerClick',\n    value: function handleMarkerClick(targetMarker) {\n      this.setState({\n        markers: this.state.markers.map(function (marker) {\n          return marker === targetMarker ? { marker: marker, showInfo: true } : marker;\n        })\n      });\n    }\n  }, {\n    key: 'handleMarkerClose',\n    value: function handleMarkerClose(targetMarker) {\n      this.setState({\n        markers: this.state.markers.map(function (marker) {\n          return marker === targetMarker ? { marker: marker, showInfo: false } : marker;\n        })\n      });\n    }\n  }, {\n    key: 'modalYes',\n    value: function modalYes() {\n      // console.log(`Function \\`modalYes\\` called!`);\n      return this.props.toggleModal();\n    }\n  }, {\n    key: 'modalNo',\n    value: function modalNo() {\n      // console.log(`Function \\`modalNo\\` called!`);\n      return this.props.toggleModalOff();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement(_reactGoogleMaps.GoogleMapLoader, {\n        containerElement: _react2.default.createElement('div', {\n          id: 'mapsContainer',\n          onDoubleClick: function onDoubleClick() {\n            return _this2.modalYes();\n          } }),\n        googleMapElement: _react2.default.createElement(\n          _reactGoogleMaps.GoogleMap\n          // defaultCenter={{ lat: 37.745951, lng: -122.439421 }}\n          ,\n          { defaultCenter: this.state.defaultCenter,\n            center: this.centerMap(),\n            defaultZoom: this.state.zoomLevel,\n            maxZoom: 19,\n            defaultOptions: { styles: _google_map_styles2.default },\n            scrollwheel: false,\n            ref: 'map' },\n          this.props.markers.map(function (marker, index) {\n            var ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',\n                MAX_ZINDEX = 1000,\n                refID = 'marker_' + index,\n                refLabel = ALPHABET[index++ % ALPHABET.length];\n\n            var m = _react2.default.createElement(_reactGoogleMaps.Marker, {\n              key: index,\n              ref: refID,\n              position: marker.coords,\n              animation: google.maps.Animation.DROP,\n              title: marker.company,\n              opacity: 0.90,\n              zIndex: MAX_ZINDEX,\n              label: { \"text\": refLabel, \"fontFamily\": \"Open Sans\", \"fontWeight\": \"600\" } });\n\n            if (index === 0) {\n              m.setZIndex({ MAX_ZINDEX: MAX_ZINDEX } + 1);\n            }\n            return m;\n          }),\n          _react2.default.createElement(_google_maps_modal_component2.default, { center: this.centerMap(), modalEnable: this.modalYes, modalDisable: this.modalNo })\n        )\n      });\n    }\n  }]);\n\n  return GMap;\n}(_react.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  // console.log(\"Maps:\", state.jobs.map(job => [job.latitude, job.longitude]));\n  return {\n    markers: state.jobs.map(function (job) {\n      return { coords: new google.maps.LatLng(job.latitude, job.longitude), company: job.company };\n    }),\n    toggleModal: state.toggleModal\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  // Whenever loadJobs is called, the result should be passed to all reducers\n  // return bindActionCreators({ selectJob: selectJob , fetchYelp: fetchYelp}, dispatch);\n  return (0, _redux.bindActionCreators)({ toggleModal: _index.toggleModal, toggleModalOff: _index.toggleModalOff }, dispatch);\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(GMap);\n\n/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(307); if (makeExportsHot(module, __webpack_require__(82))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot not apply hot update to \" + \"google_map_component.js\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)(module)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzczLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBwL2NvbXBvbmVudHMvZ29vZ2xlX21hcF9jb21wb25lbnQuanM/Mjg5YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBSRUFDVCBIT1QgTE9BREVSICovIGlmIChtb2R1bGUuaG90KSB7IChmdW5jdGlvbiAoKSB7IHZhciBSZWFjdEhvdEFQSSA9IHJlcXVpcmUoXCIvVXNlcnMvb2xpdmVyaXNlbnJpY2gvbm9kai9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWFwaS9tb2R1bGVzL2luZGV4LmpzXCIpLCBSb290SW5zdGFuY2VQcm92aWRlciA9IHJlcXVpcmUoXCIvVXNlcnMvb2xpdmVyaXNlbnJpY2gvbm9kai9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9Sb290SW5zdGFuY2VQcm92aWRlci5qc1wiKSwgUmVhY3RNb3VudCA9IHJlcXVpcmUoXCJyZWFjdC9saWIvUmVhY3RNb3VudFwiKSwgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7IG1vZHVsZS5tYWtlSG90ID0gbW9kdWxlLmhvdC5kYXRhID8gbW9kdWxlLmhvdC5kYXRhLm1ha2VIb3QgOiBSZWFjdEhvdEFQSShmdW5jdGlvbiAoKSB7IHJldHVybiBSb290SW5zdGFuY2VQcm92aWRlci5nZXRSb290SW5zdGFuY2VzKFJlYWN0TW91bnQpOyB9LCBSZWFjdCk7IH0pKCk7IH0gdHJ5IHsgKGZ1bmN0aW9uICgpIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RHb29nbGVNYXBzID0gcmVxdWlyZSgncmVhY3QtZ29vZ2xlLW1hcHMnKTtcblxudmFyIF9JbmZvQm94ID0gcmVxdWlyZSgncmVhY3QtZ29vZ2xlLW1hcHMvbGliL2FkZG9ucy9JbmZvQm94Jyk7XG5cbnZhciBfSW5mb0JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbmZvQm94KTtcblxudmFyIF9yZWFjdE1vZGFsID0gcmVxdWlyZSgncmVhY3QtbW9kYWwnKTtcblxudmFyIF9yZWFjdE1vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0TW9kYWwpO1xuXG52YXIgX3JlZHV4ID0gcmVxdWlyZSgncmVkdXgnKTtcblxudmFyIF9yZWFjdFJlZHV4ID0gcmVxdWlyZSgncmVhY3QtcmVkdXgnKTtcblxudmFyIF9nb29nbGVfbWFwc19tb2RhbF9jb21wb25lbnQgPSByZXF1aXJlKCcuL2dvb2dsZV9tYXBzX21vZGFsX2NvbXBvbmVudCcpO1xuXG52YXIgX2dvb2dsZV9tYXBzX21vZGFsX2NvbXBvbmVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nb29nbGVfbWFwc19tb2RhbF9jb21wb25lbnQpO1xuXG52YXIgX2dvb2dsZV9tYXBfc3R5bGVzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2dvb2dsZV9tYXBfc3R5bGVzLmpzb24nKTtcblxudmFyIF9nb29nbGVfbWFwX3N0eWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nb29nbGVfbWFwX3N0eWxlcyk7XG5cbnZhciBfaW5kZXggPSByZXF1aXJlKCcuLi9hY3Rpb25zL2luZGV4Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGdlb2xvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAvLyBjYW5Vc2VET00gJiYgbmF2aWdhdG9yLmdlb2xvY2F0aW9uIHx8IHtcbiAgLy8gICBnZXRDdXJyZW50UG9zaXRpb246IChzdWNjZXNzLCBmYWlsdXJlKSA9PiB7XG4gIC8vICAgICBmYWlsdXJlKGBZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGdlb2xvY2F0aW9uLmApO1xuICAvLyAgIH0sXG4gIC8vIH1cbiAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICB2YXIgcG9zID0ge1xuICAgICAgICBsYXQ6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgbG5nOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlXG4gICAgICB9O1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhgTG9jYXRpb24gZm91bmQ6ICR7cG9zLmxhdH0gJHtwb3MubG5nfWApO1xuICAgICAgLy8gY29uc29sZS5sb2coYEdvb2dsZSBNYXBzIExhdExuZzogJHtuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHBvcy5sYXQsIHBvcy5sbmcpfWApO1xuICAgICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5MYXRMbmcocG9zLmxhdCwgcG9zLmxuZyk7XG4gICAgfSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyhgWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBnZW9sb2NhdGlvbi5gKTtcbiAgICByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLkxhdExuZygzNy43NDU5NTEsIC0xMjIuNDM5NDIxKTtcbiAgfVxufSgpO1xuXG52YXIgR01hcCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhHTWFwLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBHTWFwKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdNYXApO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKEdNYXApLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgZGVmYXVsdENlbnRlcjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZygzNy43NDU5NTEsIC0xMjIuNDM5NDIxKSxcbiAgICAgIGdlb1BvczogbnVsbCxcbiAgICAgIHpvb21MZXZlbDogMTBcbiAgICB9O1xuICAgIF90aGlzLm1vZGFsTm8gPSBfdGhpcy5tb2RhbE5vLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHTWFwLCBbe1xuICAgIGtleTogJ2NlbnRlck1hcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNlbnRlck1hcCgpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBGaXJzdCBtYXAgbWFya2VyIGNvb3JkaW5hdGVzOiAke3RoaXMucHJvcHMubWFya2Vyc1swXS5jb29yZHN9YCk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5tYXJrZXJzLmxlbmd0aCA/IHRoaXMucHJvcHMubWFya2Vyc1swXS5jb29yZHMgOiB0aGlzLnN0YXRlLmRlZmF1bHRDZW50ZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2VudGVyWm9vbU92ZXJVU0EnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjZW50ZXJab29tT3ZlclVTQSgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB6b29tTGV2ZWw6IDUgfSk7XG4gICAgfVxuXG4gICAgLy8gVG9nZ2xlIHRvICd0cnVlJyB0byBzaG93IEluZm9XaW5kb3cgYW5kIHJlLXJlbmRlcnMgY29tcG9uZW50XG5cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZU1hcmtlckNsaWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTWFya2VyQ2xpY2sodGFyZ2V0TWFya2VyKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbWFya2VyczogdGhpcy5zdGF0ZS5tYXJrZXJzLm1hcChmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcmtlciA9PT0gdGFyZ2V0TWFya2VyID8geyBtYXJrZXI6IG1hcmtlciwgc2hvd0luZm86IHRydWUgfSA6IG1hcmtlcjtcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZU1hcmtlckNsb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTWFya2VyQ2xvc2UodGFyZ2V0TWFya2VyKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbWFya2VyczogdGhpcy5zdGF0ZS5tYXJrZXJzLm1hcChmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcmtlciA9PT0gdGFyZ2V0TWFya2VyID8geyBtYXJrZXI6IG1hcmtlciwgc2hvd0luZm86IGZhbHNlIH0gOiBtYXJrZXI7XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtb2RhbFllcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vZGFsWWVzKCkge1xuICAgICAgLy8gY29uc29sZS5sb2coYEZ1bmN0aW9uIFxcYG1vZGFsWWVzXFxgIGNhbGxlZCFgKTtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnRvZ2dsZU1vZGFsKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbW9kYWxObycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vZGFsTm8oKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgRnVuY3Rpb24gXFxgbW9kYWxOb1xcYCBjYWxsZWQhYCk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy50b2dnbGVNb2RhbE9mZigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0R29vZ2xlTWFwcy5Hb29nbGVNYXBMb2FkZXIsIHtcbiAgICAgICAgY29udGFpbmVyRWxlbWVudDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICBpZDogJ21hcHNDb250YWluZXInLFxuICAgICAgICAgIG9uRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIG9uRG91YmxlQ2xpY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLm1vZGFsWWVzKCk7XG4gICAgICAgICAgfSB9KSxcbiAgICAgICAgZ29vZ2xlTWFwRWxlbWVudDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX3JlYWN0R29vZ2xlTWFwcy5Hb29nbGVNYXBcbiAgICAgICAgICAvLyBkZWZhdWx0Q2VudGVyPXt7IGxhdDogMzcuNzQ1OTUxLCBsbmc6IC0xMjIuNDM5NDIxIH19XG4gICAgICAgICAgLFxuICAgICAgICAgIHsgZGVmYXVsdENlbnRlcjogdGhpcy5zdGF0ZS5kZWZhdWx0Q2VudGVyLFxuICAgICAgICAgICAgY2VudGVyOiB0aGlzLmNlbnRlck1hcCgpLFxuICAgICAgICAgICAgZGVmYXVsdFpvb206IHRoaXMuc3RhdGUuem9vbUxldmVsLFxuICAgICAgICAgICAgbWF4Wm9vbTogMTksXG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9uczogeyBzdHlsZXM6IF9nb29nbGVfbWFwX3N0eWxlczIuZGVmYXVsdCB9LFxuICAgICAgICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlLFxuICAgICAgICAgICAgcmVmOiAnbWFwJyB9LFxuICAgICAgICAgIHRoaXMucHJvcHMubWFya2Vycy5tYXAoZnVuY3Rpb24gKG1hcmtlciwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBBTFBIQUJFVCA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWicsXG4gICAgICAgICAgICAgICAgTUFYX1pJTkRFWCA9IDEwMDAsXG4gICAgICAgICAgICAgICAgcmVmSUQgPSAnbWFya2VyXycgKyBpbmRleCxcbiAgICAgICAgICAgICAgICByZWZMYWJlbCA9IEFMUEhBQkVUW2luZGV4KysgJSBBTFBIQUJFVC5sZW5ndGhdO1xuXG4gICAgICAgICAgICB2YXIgbSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEdvb2dsZU1hcHMuTWFya2VyLCB7XG4gICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgIHJlZjogcmVmSUQsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBtYXJrZXIuY29vcmRzLFxuICAgICAgICAgICAgICBhbmltYXRpb246IGdvb2dsZS5tYXBzLkFuaW1hdGlvbi5EUk9QLFxuICAgICAgICAgICAgICB0aXRsZTogbWFya2VyLmNvbXBhbnksXG4gICAgICAgICAgICAgIG9wYWNpdHk6IDAuOTAsXG4gICAgICAgICAgICAgIHpJbmRleDogTUFYX1pJTkRFWCxcbiAgICAgICAgICAgICAgbGFiZWw6IHsgXCJ0ZXh0XCI6IHJlZkxhYmVsLCBcImZvbnRGYW1pbHlcIjogXCJPcGVuIFNhbnNcIiwgXCJmb250V2VpZ2h0XCI6IFwiNjAwXCIgfSB9KTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgIG0uc2V0WkluZGV4KHsgTUFYX1pJTkRFWDogTUFYX1pJTkRFWCB9ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZ29vZ2xlX21hcHNfbW9kYWxfY29tcG9uZW50Mi5kZWZhdWx0LCB7IGNlbnRlcjogdGhpcy5jZW50ZXJNYXAoKSwgbW9kYWxFbmFibGU6IHRoaXMubW9kYWxZZXMsIG1vZGFsRGlzYWJsZTogdGhpcy5tb2RhbE5vIH0pXG4gICAgICAgIClcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHTWFwO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICAvLyBjb25zb2xlLmxvZyhcIk1hcHM6XCIsIHN0YXRlLmpvYnMubWFwKGpvYiA9PiBbam9iLmxhdGl0dWRlLCBqb2IubG9uZ2l0dWRlXSkpO1xuICByZXR1cm4ge1xuICAgIG1hcmtlcnM6IHN0YXRlLmpvYnMubWFwKGZ1bmN0aW9uIChqb2IpIHtcbiAgICAgIHJldHVybiB7IGNvb3JkczogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhqb2IubGF0aXR1ZGUsIGpvYi5sb25naXR1ZGUpLCBjb21wYW55OiBqb2IuY29tcGFueSB9O1xuICAgIH0pLFxuICAgIHRvZ2dsZU1vZGFsOiBzdGF0ZS50b2dnbGVNb2RhbFxuICB9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICAvLyBXaGVuZXZlciBsb2FkSm9icyBpcyBjYWxsZWQsIHRoZSByZXN1bHQgc2hvdWxkIGJlIHBhc3NlZCB0byBhbGwgcmVkdWNlcnNcbiAgLy8gcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9ycyh7IHNlbGVjdEpvYjogc2VsZWN0Sm9iICwgZmV0Y2hZZWxwOiBmZXRjaFllbHB9LCBkaXNwYXRjaCk7XG4gIHJldHVybiAoMCwgX3JlZHV4LmJpbmRBY3Rpb25DcmVhdG9ycykoeyB0b2dnbGVNb2RhbDogX2luZGV4LnRvZ2dsZU1vZGFsLCB0b2dnbGVNb2RhbE9mZjogX2luZGV4LnRvZ2dsZU1vZGFsT2ZmIH0sIGRpc3BhdGNoKTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoR01hcCk7XG5cbi8qIFJFQUNUIEhPVCBMT0FERVIgKi8gfSkuY2FsbCh0aGlzKTsgfSBmaW5hbGx5IHsgaWYgKG1vZHVsZS5ob3QpIHsgKGZ1bmN0aW9uICgpIHsgdmFyIGZvdW5kUmVhY3RDbGFzc2VzID0gbW9kdWxlLmhvdC5kYXRhICYmIG1vZHVsZS5ob3QuZGF0YS5mb3VuZFJlYWN0Q2xhc3NlcyB8fCBmYWxzZTsgaWYgKG1vZHVsZS5leHBvcnRzICYmIG1vZHVsZS5tYWtlSG90KSB7IHZhciBtYWtlRXhwb3J0c0hvdCA9IHJlcXVpcmUoXCIvVXNlcnMvb2xpdmVyaXNlbnJpY2gvbm9kai9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9tYWtlRXhwb3J0c0hvdC5qc1wiKTsgaWYgKG1ha2VFeHBvcnRzSG90KG1vZHVsZSwgcmVxdWlyZShcInJlYWN0XCIpKSkgeyBmb3VuZFJlYWN0Q2xhc3NlcyA9IHRydWU7IH0gdmFyIHNob3VsZEFjY2VwdE1vZHVsZSA9IHRydWUgJiYgZm91bmRSZWFjdENsYXNzZXM7IGlmIChzaG91bGRBY2NlcHRNb2R1bGUpIHsgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24gKGVycikgeyBpZiAoZXJyKSB7IGNvbnNvbGUuZXJyb3IoXCJDYW5ub3Qgbm90IGFwcGx5IGhvdCB1cGRhdGUgdG8gXCIgKyBcImdvb2dsZV9tYXBfY29tcG9uZW50LmpzXCIgKyBcIjogXCIgKyBlcnIubWVzc2FnZSk7IH0gfSk7IH0gfSBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24gKGRhdGEpIHsgZGF0YS5tYWtlSG90ID0gbW9kdWxlLm1ha2VIb3Q7IGRhdGEuZm91bmRSZWFjdENsYXNzZXMgPSBmb3VuZFJlYWN0Q2xhc3NlczsgfSk7IH0pKCk7IH0gfVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY29tcG9uZW50cy9nb29nbGVfbWFwX2NvbXBvbmVudC5qc1xuICoqIG1vZHVsZSBpZCA9IDM3M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }

})